# Some settings from https://pastebin.com/S8m1jnY3
{ config, pkgs, ... }:

{
  programs.autorandr = {
    enable = true;
    profiles = {
      baarch = {
        fingerprint = {
          DP-1-7-8 = "00ffffffffffff0030aee96100000000101f0104a53c22783e6665a9544c9d26105054a1080081c0810081809500a9c0b300d1c00101565e00a0a0a0295030203500615d2100001a000000fc00503237682d32300a2020202020000000fd00324c1e5a24000a202020202020000000ff0056393037545748590a202020200128020318f14b9005040302011f13140e0f23090f0783010000662156aa51001e30468f33000f282100001eab22a0a050841a30302036000f282100001c7c2e90a0601a1e40302036000f282100001c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a";
          DP-1-8 = "00ffffffffffff0030aee9610000000010200104a53c22783e6665a9544c9d26105054a1080081c0810081809500a9c0b300d1c00101565e00a0a0a0295030203500615d2100001a000000fc00503237682d32300a2020202020000000fd00324c1e5a24000a202020202020000000ff00563930413941394d0a202020200169020318f14b9005040302011f13140e0f23090f0783010000662156aa51001e30468f33000f282100001eab22a0a050841a30302036000f282100001c7c2e90a0601a1e40302036000f282100001c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a";
          eDP-1 = "00ffffffffffff0009e5de0800000000011d0104b5261578030e18a75333bb200f535e0000000101010101010101010101010101010152d000a0f0703e80302035007ed71000001a00000000000000000000000000000000001a000000fe00424f452048460a202020202020000000fe004e4531373351554d2d4e34320a015102030f00e3058000e60605016a6a24000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009a";
        };
        config = {
          "eDP-1" = {
            enable = false;
            position = "0x0";
            mode = "3840x2160"; # Updated resolution based on xrandr output
            rate = "60.00"; # Updated refresh rate
          };
          "DP-1-7" = {
            enable = true;
            position = "3840x0"; # Updated position based on your layout preference
            primary = true;
            mode = "2560x1440"; # This remains the same
            rate = "59.95"; # Updated refresh rate
          };
          "DP-1-8" = {
            enable = true;
            position = "6400x0"; # Updated position assuming you want it next to DP-1-2
            mode = "2560x1440"; # This remains the same
            rate = "59.95"; # Updated refresh rate
          };
        };
      };
    };
    hooks = {
      postswitch = {
        notify-i3 = "${pkgs.i3}/bin/i3-msg restart";
        #change-background = "${pkgs.variety}/bin/variety --next";
      };
    };
  };

  services.autorandr.enable = true;
}
